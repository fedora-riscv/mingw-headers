From 6249fb991dbffa36b8712250f71992c02bf5be33 Mon Sep 17 00:00:00 2001
From: Jacek Caban <jacek@codeweavers.com>
Date: Wed, 8 Jul 2015 16:11:52 +0200
Subject: extern C fixes in winstring.h and roapi.h.


diff --git a/mingw-w64-headers/include/roapi.h b/mingw-w64-headers/include/roapi.h
index 95c4fe6..9cd0f29 100644
--- a/mingw-w64-headers/include/roapi.h
+++ b/mingw-w64-headers/include/roapi.h
@@ -24,7 +24,9 @@ typedef struct { } *RO_REGISTRATION_COOKIE;
 
 typedef HRESULT (WINAPI *PFNGETACTIVATIONFACTORY)(HSTRING, IActivationFactory **);
 
-/* */
+#ifdef __cplusplus
+extern "C" {
+#endif
 
 HRESULT WINAPI RoActivateInstance(HSTRING activatableClassId, IInspectable **instance);
 
@@ -50,6 +52,7 @@ HRESULT WINAPI RoUnregisterForApartmentShutdown (APARTMENT_SHUTDOWN_REGISTRATION
 HRESULT WINAPI RoGetApartmentIdentifier (UINT64 *apartmentId);
 
 #ifdef __cplusplus
+} /* extern "C" */
 
 namespace Windows {
   namespace Foundation {
diff --git a/mingw-w64-headers/include/winstring.h b/mingw-w64-headers/include/winstring.h
index 908923e..76131d8 100644
--- a/mingw-w64-headers/include/winstring.h
+++ b/mingw-w64-headers/include/winstring.h
@@ -33,10 +33,6 @@ unsigned long __RPC_USER HSTRING_UserSize64(unsigned long *pFlags, unsigned long
 unsigned char* __RPC_USER HSTRING_UserUnmarshal64(unsigned long *pFlags, unsigned char *pBuffer, HSTRING *ppidl);
 #endif
 
-#ifdef __cplusplus
-}
-#endif
-
 HRESULT WINAPI WindowsCompareStringOrdinal(HSTRING string1, HSTRING string2, INT32 *result);
 
 HRESULT WINAPI WindowsConcatString(HSTRING string1, HSTRING string2, HSTRING *newString);
@@ -77,4 +73,8 @@ HRESULT WINAPI WindowsTrimStringEnd(HSTRING string, HSTRING trimString, HSTRING
 
 HRESULT WINAPI WindowsTrimStringStart(HSTRING string, HSTRING trimString, HSTRING *newString);
 
+#ifdef __cplusplus
+}
+#endif
+
 #endif
